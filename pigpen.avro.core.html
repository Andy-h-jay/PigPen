<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>pigpen.avro.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Pigpen 0.2.13 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="pigpen.core.html"><span>pigpen.core</span></a></li><li><a href="pigpen.fold.html"><span>pigpen.fold</span></a></li><li><a href="pigpen.oven.html"><span>pigpen.oven</span></a></li><li><a href="pigpen.parquet.core.html"><span>pigpen.parquet.core</span></a></li><li class="current"><a href="pigpen.avro.core.html"><span>pigpen.avro.core</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="pigpen.avro.core.html#var-dotted-keys-%3Enested-map"><span>dotted-keys-&gt;nested-map</span></a></li><li><a href="pigpen.avro.core.html#var-load-avro"><span>load-avro</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>pigpen.avro.core documentation</h2><pre class="doc"></pre><div class="public" id="var-dotted-keys-%3Enested-map"><h3>dotted-keys-&gt;nested-map</h3><div class="usage"><code>(dotted-keys-&gt;nested-map kvs)</code></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/Netflix/PigPen/blob/master/pigpen-avro/src/main/clojure/pigpen/avro/core.clj#L63">Source</a></div></div><div class="public" id="var-load-avro"><h3>load-avro</h3><div class="usage"><code>(load-avro location schema)</code></div><pre class="doc">*** ALPHA - Subject to change ***

Loads data from an avro file. Returns data as maps with keyword keys corresponding to avro field names. Fields with avro type &quot;map&quot; will be maps with string keys.

Example:

  ;; avro schemas are defined [on the project's website](http://avro.apache.org/docs/1.7.7/spec.html#schemas)
  ;; load-avro takes the schema as a string.
  (pig-avro/load-avro &quot;input.avro&quot; (slurp &quot;schemafile.json&quot;))

  (pig-avro/load-avro &quot;input.avro&quot;
     &quot;{&quot;namespace&quot;: &quot;example.avro&quot;, &quot;type&quot;: &quot;record&quot;, &quot;name&quot;: &quot;foo&quot;,
&quot;fields&quot;: [{&quot;name&quot;: &quot;wurdz&quot;, &quot;type&quot;: &quot;string&quot;}, {&quot;name&quot;: &quot;bar&quot;, &quot;type&quot;: &quot;int&quot;}] }&quot;)

Make sure a
[piggybank.jar](http://mvnrepository.com/artifact/org.apache.pig/piggybank/0.14.0)
compatible with your version of hadoop is on $PIG_CLASSPATH. For
hadoop v2, see http://stackoverflow.com/a/21753749. Amazon's elastic
mapreduce comes with a compatible piggybank.jar already on the
classpath.</pre><div class="src-link"><a href="https://github.com/Netflix/PigPen/blob/master/pigpen-avro/src/main/clojure/pigpen/avro/core.clj#L74">Source</a></div></div></div></body></html>